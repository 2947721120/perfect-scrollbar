/*! perfect-scrollbar - v0.5.8
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2015 Hyunje Alex Jun; Licensed MIT */
(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(e){"use strict";function o(e){return"string"==typeof e?parseInt(e,10):~~e}var t={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},n=0,r=function(){var e=n++;return function(o){var t=".perfect-scrollbar-"+e;return o===void 0?t:o+t}},l="WebkitAppearance"in document.documentElement.style;e.fn.perfectScrollbar=function(n,i){return this.each(function(){function a(e,t){var n=e+t,r=x-j;A=0>n?0:n>r?r:n;var l=o(A*(Y-x)/(x-j));E.scrollTop(l)}function s(e,t){var n=e+t,r=C-k;W=0>n?0:n>r?r:n;var l=o(W*(D-C)/(C-k));E.scrollLeft(l)}function c(e){return P.minScrollbarLength&&(e=Math.max(e,P.minScrollbarLength)),P.maxScrollbarLength&&(e=Math.min(e,P.maxScrollbarLength)),e}function p(){var e={width:O};e.left=B?E.scrollLeft()+C-D:E.scrollLeft(),N?e.bottom=_-E.scrollTop():e.top=Q+E.scrollTop(),H.css(e);var o={top:E.scrollTop(),height:I};Z?o.right=B?D-E.scrollLeft()-V-J.outerWidth():V-E.scrollLeft():o.left=B?E.scrollLeft()+2*C-D-$-J.outerWidth():$+E.scrollLeft(),G.css(o),U.css({left:W,width:k-z}),J.css({top:A,height:j-eo})}function u(){E.removeClass("ps-active-x"),E.removeClass("ps-active-y"),C=P.includePadding?E.innerWidth():E.width(),x=P.includePadding?E.innerHeight():E.height(),D=E.prop("scrollWidth"),Y=E.prop("scrollHeight"),!P.suppressScrollX&&D>C+P.scrollXMarginOffset?(X=!0,O=C-F,k=c(o(O*C/D)),W=o(E.scrollLeft()*(O-k)/(D-C))):(X=!1,k=0,W=0,E.scrollLeft(0)),!P.suppressScrollY&&Y>x+P.scrollYMarginOffset?(R=!0,I=x-oo,j=c(o(I*x/Y)),A=o(E.scrollTop()*(I-j)/(Y-x))):(R=!1,j=0,A=0,E.scrollTop(0)),W>=O-k&&(W=O-k),A>=I-j&&(A=I-j),p(),X&&E.addClass("ps-active-x"),R&&E.addClass("ps-active-y")}function d(){var o,t,n=function(e){s(o,e.pageX-t),u(),e.stopPropagation(),e.preventDefault()},r=function(){E.removeClass("ps-in-scrolling"),e(q).unbind(K("mousemove"),n)};U.bind(K("mousedown"),function(l){t=l.pageX,o=U.position().left,E.addClass("ps-in-scrolling"),e(q).bind(K("mousemove"),n),e(q).one(K("mouseup"),r),l.stopPropagation(),l.preventDefault()}),o=t=null}function f(){var o,t,n=function(e){a(o,e.pageY-t),u(),e.stopPropagation(),e.preventDefault()},r=function(){E.removeClass("ps-in-scrolling"),e(q).unbind(K("mousemove"),n)};J.bind(K("mousedown"),function(l){t=l.pageY,o=J.position().top,E.addClass("ps-in-scrolling"),e(q).bind(K("mousemove"),n),e(q).one(K("mouseup"),r),l.stopPropagation(),l.preventDefault()}),o=t=null}function g(e,o){var t=E.scrollTop();if(0===e){if(!R)return!1;if(0===t&&o>0||t>=Y-x&&0>o)return!P.wheelPropagation}var n=E.scrollLeft();if(0===o){if(!X)return!1;if(0===n&&0>e||n>=D-C&&e>0)return!P.wheelPropagation}return!0}function v(e,o){var t=E.scrollTop(),n=E.scrollLeft(),r=Math.abs(e),l=Math.abs(o);if(l>r){if(0>o&&t===Y-x||o>0&&0===t)return!P.swipePropagation}else if(r>l&&(0>e&&n===D-C||e>0&&0===n))return!P.swipePropagation;return!0}function b(){function e(e){var o=e.originalEvent.deltaX,t=-1*e.originalEvent.deltaY;return(o===void 0||t===void 0)&&(o=-1*e.originalEvent.wheelDeltaX/6,t=e.originalEvent.wheelDeltaY/6),e.originalEvent.deltaMode&&1===e.originalEvent.deltaMode&&(o*=10,t*=10),o!==o&&t!==t&&(o=0,t=e.originalEvent.wheelDelta),[o,t]}function o(o){if(l||!(E.find("select:focus").length>0)){var n=e(o),r=n[0],i=n[1];t=!1,P.useBothWheelAxes?R&&!X?(i?E.scrollTop(E.scrollTop()-i*P.wheelSpeed):E.scrollTop(E.scrollTop()+r*P.wheelSpeed),t=!0):X&&!R&&(r?E.scrollLeft(E.scrollLeft()+r*P.wheelSpeed):E.scrollLeft(E.scrollLeft()-i*P.wheelSpeed),t=!0):(E.scrollTop(E.scrollTop()-i*P.wheelSpeed),E.scrollLeft(E.scrollLeft()+r*P.wheelSpeed)),u(),t=t||g(r,i),t&&(o.stopPropagation(),o.preventDefault())}}var t=!1;window.onwheel!==void 0?E.bind(K("wheel"),o):window.onmousewheel!==void 0&&E.bind(K("mousewheel"),o)}function h(){var o=!1;E.bind(K("mouseenter"),function(){o=!0}),E.bind(K("mouseleave"),function(){o=!1});var t=!1;e(q).bind(K("keydown"),function(n){if((!n.isDefaultPrevented||!n.isDefaultPrevented())&&o){for(var r=document.activeElement?document.activeElement:q.activeElement;r.shadowRoot;)r=r.shadowRoot.activeElement;if(!e(r).is(":input,[contenteditable]")){var l=0,i=0;switch(n.which){case 37:l=-30;break;case 38:i=30;break;case 39:l=30;break;case 40:i=-30;break;case 33:i=90;break;case 32:case 34:i=-90;break;case 35:i=n.ctrlKey?-Y:-x;break;case 36:i=n.ctrlKey?E.scrollTop():x;break;default:return}E.scrollTop(E.scrollTop()-i),E.scrollLeft(E.scrollLeft()+l),t=g(l,i),t&&n.preventDefault()}}})}function w(){function e(e){e.stopPropagation()}J.bind(K("click"),e),G.bind(K("click"),function(e){var t=o(j/2),n=e.pageY-G.offset().top-t,r=x-j,l=n/r;0>l?l=0:l>1&&(l=1),E.scrollTop((Y-x)*l)}),U.bind(K("click"),e),H.bind(K("click"),function(e){var t=o(k/2),n=e.pageX-H.offset().left-t,r=C-k,l=n/r;0>l?l=0:l>1&&(l=1),E.scrollLeft((D-C)*l)})}function m(){function o(){var e=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return 0===e.rangeCount?null:e.getRangeAt(0).commonAncestorContainer}function t(){r||(r=setInterval(function(){return M()?(E.scrollTop(E.scrollTop()+l.top),E.scrollLeft(E.scrollLeft()+l.left),u(),void 0):(clearInterval(r),void 0)},50))}function n(){r&&(clearInterval(r),r=null),E.removeClass("ps-in-scrolling"),E.removeClass("ps-in-scrolling")}var r=null,l={top:0,left:0},i=!1;e(q).bind(K("selectionchange"),function(){e.contains(E[0],o())?i=!0:(i=!1,n())}),e(window).bind(K("mouseup"),function(){i&&(i=!1,n())}),e(window).bind(K("mousemove"),function(e){if(i){var o={x:e.pageX,y:e.pageY},r=E.offset(),a={left:r.left,right:r.left+E.outerWidth(),top:r.top,bottom:r.top+E.outerHeight()};o.x<a.left+3?(l.left=-5,E.addClass("ps-in-scrolling")):o.x>a.right-3?(l.left=5,E.addClass("ps-in-scrolling")):l.left=0,o.y<a.top+3?(l.top=5>a.top+3-o.y?-5:-20,E.addClass("ps-in-scrolling")):o.y>a.bottom-3?(l.top=5>o.y-a.bottom+3?5:20,E.addClass("ps-in-scrolling")):l.top=0,0===l.top&&0===l.left?n():t()}})}function T(o,t){function n(e,o){E.scrollTop(E.scrollTop()-o),E.scrollLeft(E.scrollLeft()-e),u()}function r(){f=!0}function l(){f=!1}function i(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function a(e){var o=e.originalEvent;return o.targetTouches&&1===o.targetTouches.length?!0:o.pointerType&&"mouse"!==o.pointerType&&o.pointerType!==o.MSPOINTER_TYPE_MOUSE?!0:!1}function s(e){if(a(e)){g=!0;var o=i(e);d.pageX=o.pageX,d.pageY=o.pageY,e.stopPropagation()}}function c(e){if(!f&&g&&a(e)){var o=i(e),t={pageX:o.pageX,pageY:o.pageY},r=t.pageX-d.pageX,l=t.pageY-d.pageY;n(r,l),d=t,v(r,l)&&(e.stopPropagation(),e.preventDefault())}}function p(){!f&&g&&(g=!1)}var d={},f=!1,g=!1;o&&(e(window).bind(K("touchstart"),r),e(window).bind(K("touchend"),l),E.bind(K("touchstart"),s),E.bind(K("touchmove"),c),E.bind(K("touchend"),p)),t&&(window.PointerEvent?(e(window).bind(K("pointerdown"),r),e(window).bind(K("pointerup"),l),E.bind(K("pointerdown"),s),E.bind(K("pointermove"),c),E.bind(K("pointerup"),p)):window.MSPointerEvent&&(e(window).bind(K("MSPointerDown"),r),e(window).bind(K("MSPointerUp"),l),E.bind(K("MSPointerDown"),s),E.bind(K("MSPointerMove"),c),E.bind(K("MSPointerUp"),p)))}function L(){E.bind(K("scroll"),function(){u()})}function y(){E.unbind(K()),e(window).unbind(K()),e(q).unbind(K()),E.data("perfect-scrollbar",null),E.data("perfect-scrollbar-update",null),E.data("perfect-scrollbar-destroy",null),U.remove(),J.remove(),H.remove(),G.remove(),E=H=G=U=J=X=R=C=x=D=Y=k=W=_=N=Q=j=A=V=Z=$=B=K=null}function S(){u(),L(),d(),f(),w(),m(),b(),(to||no)&&T(to,no),P.useKeyboard&&h(),E.data("perfect-scrollbar",E),E.data("perfect-scrollbar-update",u),E.data("perfect-scrollbar-destroy",y)}var P=e.extend(!0,{},t),E=e(this),M=function(){return!!E};if("object"==typeof n?e.extend(!0,P,n):i=n,"update"===i)return E.data("perfect-scrollbar-update")&&E.data("perfect-scrollbar-update")(),E;if("destroy"===i)return E.data("perfect-scrollbar-destroy")&&E.data("perfect-scrollbar-destroy")(),E;if(E.data("perfect-scrollbar"))return E.data("perfect-scrollbar");E.addClass("ps-container");var C,x,D,Y,X,k,W,O,R,j,A,I,B="rtl"===E.css("direction"),K=r(),q=this.ownerDocument||document,H=e("<div class='ps-scrollbar-x-rail'>").appendTo(E),U=e("<div class='ps-scrollbar-x'>").appendTo(H),_=o(H.css("bottom")),N=_===_,Q=N?null:o(H.css("top")),z=o(H.css("borderLeftWidth"))+o(H.css("borderRightWidth")),F=o(H.css("marginLeft"))+o(H.css("marginRight")),G=e("<div class='ps-scrollbar-y-rail'>").appendTo(E),J=e("<div class='ps-scrollbar-y'>").appendTo(G),V=o(G.css("right")),Z=V===V,$=Z?null:o(G.css("left")),eo=o(G.css("borderTopWidth"))+o(G.css("borderBottomWidth")),oo=o(G.css("marginTop"))+o(G.css("marginBottom")),to="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,no=null!==window.navigator.msMaxTouchPoints;return S(),E})}});